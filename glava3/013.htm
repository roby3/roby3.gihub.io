<html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">

<head>
<meta http-equiv="Content-Language" content="uk">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>3.4.2. Маркерний метод доступу до поділюваного середовища </title>

<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:Categories msdt:dt="string">Навчальний метеріал</mso:Categories>
</mso:CustomDocumentProperties>
</xml><![endif]-->
</head>

<body>

<h3>3.4.2. Маркерний метод доступу до
поділюваного середовища </h3>
<p>У мережах з маркерним методом
доступу (а до них, крім мереж Token Ring, відносяться
мережі FDDI, а також мережі, близькі до
стандарту 802.4, — ArcNet, мережі виробничого
призначення MAP) право на доступ до
середовища передається циклічно від станції
до станції по логічному кільцю.</p>
<p>У мережі Token Ring кільце утворюється
відрізками кабелю, що з'єднують сусідні
станції. Таким чином, кожна станція зв'язана
зі своєю попередньою і наступною станцією і
може безпосередньо обмінюватися даними тільки
з ними. Для забезпечення доступу станцій до
фізичного середовища по кільцю циркулює
кадр спеціального формату і призначення —
<i>маркер</i>. У мережі Token Ring будь-яка станція
завжди безпосередньо одержує дані тільки
від однієї станції — тієї, котра є
попередньою в кільці. Така станція називається
<i>найближчим активним сусідом, розташованим вище по потоку</i> (даних) — <i>Nearest
Active Upstream Neighbor</i>, <i>NAUN</i>. Передачу ж даних станція завжди 
здійснює своєму найближчому сусіду вниз по потоку даних.</p>
<p>Одержавши маркер, станція аналізує
його і при відсутності в неї даних для
передачі забезпечує його просування до
наступного станції. Станція, що має дані для
передачі, при одержанні маркера вилучає
його з кільця, що дає їй право доступу до фізичного
середовища і передачі своїх даних. Потім ця
станція видає в кільце кадр даних
встановленого формату послідовно по бітах.
Дані, що передаються, проходять по кільцю завжди в
одному напрямку від однієї станції до іншої.
Кадр містить адресу призначення й адресу джерела.</p>
<p>Усі станції кільця ретранслюють
кадр побітно, як повторювачі. Якщо кадр
проходить через станцію призначення, то,
розпізнавши свою адресу, ця станція копіює
кадр у свій внутрішній буфер і вставляє в
кадр ознаку підтвердження прийому. Станція,
що видала кадр даних у кільце, при
зворотному його одержанні з підтвердженням
прийому вилучає цей кадр із кільця і
передає в мережу новий маркер для
забезпечення можливості іншим станціям
мережі передавати дані. Такий алгоритм
доступу застосовується в мережах Token Ring зі
швидкістю роботи&nbsp; 4 Мбіт/с, описаний у стандарті 802.5.</p>
<p>На мал. 3.14 описаний алгоритм
доступу до середовища ілюструється
тимчасовою діаграмою. Тут показана
передача пакета А в кільці, що складається з
6 станцій, від <b>станції 1</b> до <b>станції 3</b>. Після проходження станції призначення
<b>3</b>
у пакеті <b>А</b> встановлюються дві ознаки —
ознака розпізнавання адреси й ознака копіювання
пакета в буфер (що на малюнку відзначено зірочкою
усередині пакета). Після повернення пакета
в <b>станцію 1</b> відправник розпізнає свій пакет за адресою
джерела і видаляє пакет з кільця.
Встановлені <b>станцією 3</b> ознаки говорять станції-відправнику про те,
що пакет дійшов до адресата і був успішно
скопійований їм у свій буфер.</p>
<table border="0" cellpadding="2" cellspacing="0" style="border-collapse: collapse" width="100%" id="AutoNumber1">
  <tr>
    <td width="100%" align="center">
    <img border="0" src="images/m3_14.gif" width="495" height="560"></td>
  </tr>
  <tr>
    <td width="100%" align="center">Мал.3.14 Принцип маркерного доступу</td>
  </tr>
</table>
<p>Час володіння поділюваним
середовищем у мережі Token Ring обмежується <i>часом
утримання маркера</i> (<i>token holding time</i>), після закінчення
якого станція зобов'язана припинити
передачу власних даних (поточний кадр
дозволяється завершити) і передати маркер
далі по кільцю. Станція може встигнути
передати за час утримання маркера один чи
кілька кадрів в залежності від розміру
кадрів і величини часу утримання маркера.
Звичайний час утримання маркера за
замовчуванням дорівнює 10&nbsp;мс, а максимальний
розмір кадру в стандарті 802.5 не визначений.
Для мереж 4&nbsp;Мбіт/с він звичайно дорівнює 4&nbsp;Кбайт, а для мереж 16&nbsp;Мбіт/с — 16 Кбайт. Це зв'язано
з тим, що за час утримання маркера станція
повинна встигнути передати хоча б один кадр.
При швидкості 4 Мбіт/с за час 10&nbsp;мс можна
передати 5000&nbsp;байт, а при швидкості 16&nbsp;Мбіт/с —
відповідно 20&nbsp;000&nbsp;байт. Максимальні розміри
кадру обрані з деяким запасом.</p>
<p>У мережах Token Ring 16 Мбіт/с
використовується також трохи інший
алгоритм доступу до кільця, яки називається
алгоритмом <i>раннього звільнення маркера</i> (<i>Early
Token Release</i>). Відповідно до нього станція
передає маркер доступу наступної станції
відразу ж після закінчення передачі
останнього біта кадру, не чекаючи
повернення по кільцю цього кадру з бітом підтвердження
прийому. У цьому випадку пропускна здатність
кільця використовується більш ефективно,
тому що по кільцю одночасно просуваються
кадри декількох станцій. Проте свої кадри в
кожен момент часу може генерувати тільки
одна станція — та, котра в даний момент
володіє маркером доступу. Інші станції в
цей час тільки повторюють чужі кадри, так що
принцип поділу кільця в часі зберігається,
прискорюється тільки процедура передачі
володіння кільцем.</p>
<p>Для різних видів повідомлень,
переданим кадрам, можуть призначатися різні
<i>пріоритети</i>: від <b>0 (нижчий)</b> до <b>7 (вищий)</b>. Рішення
про пріоритет конкретного кадру приймає
передавальна станція (протокол Token Ring
одержує цей параметр через міжрівневі інтерфейси
від протоколів верхнього рівня, наприклад
прикладного). Маркер також завжди має
деякий рівень поточного пріоритету. Станція
має право захопити переданий їй маркер тільки
в тому випадку, якщо пріоритет кадру, що
вона хоче передати, вище (чи дорівнює) пріоритету
маркера. У противному випадку станція зобов'язана
передати маркер наступної по кільцю станції.</p>
<p>За наявність у мережі маркера,
причому єдиної його копії, відповідає
активний монітор. Якщо активний монітор не
одержує маркер протягом тривалого часу (наприклад,
2,6&nbsp;с), то він породжує новий маркер.</p>

<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="table1">
  <tr>
    <td width="100%" align="left" colspan="3"><hr color="#2D4C54" size="4"></td>
  </tr>
  <tr>
    <td width="33%" align="left"><a href="012.htm">Попередня</a></td>
    <td width="33%" align="center"><a href="001.htm">Перша</a></td>
    <td width="34%" align="right"><a href="014.htm">Наступна</a></td>
  </tr>
</table>

</body>

</html>