<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta http-equiv="Content-Language" content="uk">
<title>4.2. Концентратори й мережеві адаптери</title>
</head>
<body lang=Ua>
<h2>4.2.
Концентратори й мережеві адаптери</h2>
<p><nobr><a href="#9">4.2.1. Мережеві адаптери</a></nobr><br>
<nobr><a href="008.htm" target="">4.2.2.&nbsp;Концентратори</a></nobr><br> <nobr><a href="009.htm" target="">Висновки</a></nobr></p>
<p>Концентратори разом з мережевими
адаптерами, а також кабельною системою представляють
той мінімум обладнання, за допомогою якого
можна створити локальну мережу. Така мережа
буде являти собою загальне поділюване середовище. Зрозуміло, що мережа
не може бути занадто великою, тому що при
великій кількості вузлів загальне середовище передачі даних швидко стає вузьким
місцем, що знижує продуктивність мережі. Тому
концентратори й мережеві адаптери дозволяють будувати невеликі базові фрагменти мереж, які потім повинні поєднуватися
один з одним за допомогою мостів, комутаторів і маршрутизаторів.</p>
<h3><a name=9></a>4.2.1. Мережеві адаптери</h3>
<h4><a name=10></a>Функції
й характеристики мережевих адаптерів</h4>
<p><b><i>Мережевий</i></b><b><i> адаптер</i></b><i> (Network Interface Card, NIC)
</i>разом зі
своїм драйвером реалізує другий, канальний рівень моделі відкритих систем у кінцевому
вузлі мережі — комп'ютері.
Більш точно, у мережній операційній системі пара адаптер і драйвер виконує тільки функції фізичного й Мас-рівнень, у той час як LLC-рівень звичайно
реалізується модулем операційної системи, єдиним для всіх драйверів і мережевих адаптерів. Властиво
так воно й повинне бути у відповідності з
моделлю стека протоколів IEEE 802. Наприклад, в ОС
Windows NT рівень LLC реалізується в модулі NDIS, загальному для всіх драйверів мережевих адаптерів, незалежно від того, яку технологію підтримує драйвер.</p>
<p>Мережевий адаптер разом із драйвером виконують дві операції: передачу й прийом
кадру.</p>
<p>Передача кадру з комп'ютера в
кабель складається з перерахованих нижче етапів (деякі можуть бути відсутні,
залежно від прийнятих методів кодування). </p>
<ul type=disc>
	<li>Прийом кадру даних LLC через міжурівневий інтерфейс разом з адресною інформацією Мас-рівень. Звичайна взаємодія між протоколами усередині комп'ютера відбувається через буфери, розташовані в оперативній пам'яті. Дані для передачі в мережу містяться в цьому буфері протоколами верхніх рівнів, які витягають їх з дискової пам'яті або з файлового кэша за допомогою підсистеми ведення/виведення операційної системи.</li>
	<li>Оформлення кадру даних Мас-рівня, у який інкапсулюються кадр LLC (з відкинутими прапорами 01111110). Заповнення адрес призначення й джерела, обчислення контрольної суми.</li>
	<li>Формування символів кодів при використанні надлишкових кодів типу 4В/5В. Скрэмблювання кодів для одержання більш рівномірного спектра сигналів. Цей етап використовується не у всіх протоколах - наприклад, технологія Ethernet 10 Мбит/с обходиться без нього.</li>
	<li>Видача сигналів у кабель відповідно до прийнятого лінійного коду - манчестерским, NRZI, MLT-3 і т.п. Прийом кадру з кабелю в комп'ютер включає наступні дії.</li>
	<li>Прийом з кабелю сигналів, що кодують бітовий потік.</li>
	<li>Виділення сигналів на тлі шуму. Цю операцію можуть виконувати різні спеціалізовані мікросхеми або сигнальні процесори DSP. У результаті в приймачі адаптера утвориться деяка бітова послідовність, з великим ступенем імовірності співпадаюча з тієї, котра була послана передавачем.</li>
	<li>Якщо дані перед відправленням у кабель піддавалися скрэмблюванню, то вони пропускаються через дескремблер, після чого в адаптері відновлюються символи коду, послані передавачем.</li>
	<li>Перевірка контрольної суми кадру. Якщо вона невірна, то кадр відкидається, а через міжрівневий інтерфейс наверх, протоколу LLC передається відповідний код помилки. Якщо контрольна сума вірна, то з MAC-кадру витягається кадр LLC і передається через міжурівневий інтерфейс наверх, протоколу LLC. Кадр LLC міститься в буфер оперативної пам'яті.</li>
</ul>
<p>Розподіл обов'язків між мережевим адаптером і його драйвером стандартами не визначається, тому кожен
виробник вирішує це питання самостійно. Звичайно мережеві
адаптери діляться на адаптери для клієнтських комп'ютерів й адаптери для
серверів.</p>
<p>В адаптерах для клієнтських
комп'ютерів значна частина роботи перекладається на драйвер, тим самим адаптер виявляється
простіше й дешевше. Недоліком такого підходу є високий ступінь завантаження центрального
процесора комп'ютера рутинними роботами по передачі кадрів з оперативної
пам'яті комп'ютера в мережу. Центральний
процесор змушений займатися цією роботою
замість виконання прикладних завдань
користувача.</p>
<p>Тому адаптери, призначені для серверів, звичайно забезпечуються власними
процесорами, які самостійно виконують більшу
частину роботи з передачі кадрів з оперативної пам'яті в мережу й у зворотному напрямку.
Прикладом такого адаптера може служити мережний адаптер SMS Ether
Power з вбудованим
процесором Intel i960.</p>
<p>Залежно від того, який протокол реалізує адаптер, адаптери
діляться на Ethernet-адаптери, Token Ring-адаптери,
FDDI-адаптери й т.д. Тому що протокол Fast Ethernet дозволяє за рахунок процедури автопереговорів автоматично вибрати швидкість
роботи мережевого адаптера залежно від
можливостей концентратора, тому багато адаптерів Ethernet
сьогодні підтримують дві швидкості роботи й
мають у своїй назві приставку 10/100. Цю
властивість деякі виробники називають <i>авточуттєвістю</i><i>.</i></p>
<p>Мережевий адаптер перед установкою в комп'ютер необхідно конфігурувати. При
конфігуруванні адаптера задаються номер переривання IRQ, використовуваного адаптером, номер каналу прямого
доступу до пам'яті DMA (якщо адаптер підтримує режим DMA) і базова адреса
портів введення/виведення.</p>
<p>Якщо мережний
адаптер, апаратури комп'ютера й операційна система підтримують стандарт
Plug-and-Play, то конфігурування адаптера і його драйвера здійснюється
автоматично. У противному випадку потрібно спочатку зконфігурувати мережевий
адаптер, а потім повторити параметри його конфігурації для драйвера. У загальному випадку, деталі процедури конфігурування мережевого адаптера і його драйвера багато в чому
залежать від виробника адаптера, а також від можливостей шини, для якої
розроблений адаптер.</p>
<h4><a name=11></a>Класифікація
мережевих адаптерів</h4>
<p>Як приклад класифікації адаптерів
використаємо підхід фірми 3Com, що має
репутацію лідера в області адаптерів Ethernet. Фірма 3Com вважає,
що мережеві адаптери Ethernet
пройшли у своєму розвитку три покоління.</p>
<p><b>Адаптери першого покоління</b> були виконані на дискретних логічних мікросхемах, у результаті чого мали
низьку надійність. Вони мали буферну пам'ять тільки на один
кадр, що приводило до низької продуктивності адаптера, тому що всі кадри
передавалися з комп'ютера в мережу або з мережі в комп'ютер послідовно. Крім цього, завдання
конфігурації адаптера першого покоління відбувалося вручну, за допомогою
перемичок. Для кожного типу адаптерів використався
свій драйвер, причому інтерфейс між драйвером і мережевою
операційною системою не був стандартизований.</p>
<p>У мережних
<b>адаптерах другого покоління</b> для
підвищення продуктивності стали застосовувати метод багатокадрової буферизації. При цьому наступний кадр завантажується
з пам'яті комп'ютера в буфер адаптера одночасно з
передачею попереднього кадру в мережу. У
режимі прийому, після того як адаптер повністю прийняв один
кадр, він може почати передавати цей кадр із буфера на згадку комп'ютера
одночасно із прийомом іншого кадру з мережі.</p>
<p>У мережевих
адаптерах другого покоління широко використаються
мікросхеми з високим ступенем інтеграції, що
підвищує надійність адаптерів. Крім того, драйвери цих адаптерів засновані на
стандартних специфікаціях. Адаптери другого покоління звичайно поставляються із
драйверами, що працюють як у стандарті NDIS (специфікація інтерфейсу мережевого драйвера), розробленого
фірмами 3Com й Microsoft і схваленого
IBM, так й у стандарті ODI (інтерфейс відкритого драйвера), розробленого фірмою Novell.</p>
<p>У <b>мережевих адаптерах третього покоління</b>
(до них фірма 3Com відносить свої адаптери сімейства EtherLink
III) здійснюється конвеєрна схема обробки кадрів. Вона полягає
в тому, що процеси прийому
кадру з оперативної пам'яті комп'ютера й передачі його в мережу сполучаються в часі. Таким чином, після прийому декількох перших байт кадру починається їхня передача. Це
істотно (на 25-55 %) підвищує продуктивність ланцюжка <i>оперативна пам'ять </i>—
<i>адаптер — фізичний канал — адаптер — оперативна пам'ять. </i>Така схема дуже
чутлива до порога початку
передачі, тобто до кількості байт кадру, що завантажується в буфер адаптера
перед початком передачі в мережу. Мережевий адаптер третього покоління здійснює
самонастроювання цього параметра шляхом аналізу робочого середовища, а також
методом розрахунку, без участі адміністратора мережі.
Самонастроювання забезпечує максимально можливу продуктивність для конкретного
сполучення продуктивності внутрішньої шини комп'ютера, його системи переривань
і системи прямого доступу до пам'яті.</p>
<p>Адаптери третього покоління
базуються на спеціалізованих інтегральних схемах (ASIC), що підвищує продуктивність
і надійність адаптера при одночасному зниженні
його вартості. Компанія 3Com назвала свою технологію конвеєрної обробки кадрів Parallel Tasking, інші компанії
також реалізували схожі схеми у своїх адаптерах. Підвищення продуктивності
каналу &quot;адаптер-пам'ять&quot; дуже важливо для підвищення продуктивності мережі в цілому, тому що продуктивність складного
маршруту обробки кадрів, що включає, наприклад, концентратори, комутатори,
маршрутизатори, глобальні канали зв'язку й
т.п., завжди визначається продуктивністю
самого повільного елемента цього маршруту. Отже, якщо мережевий
адаптер сервера або клієнтського комп'ютера працює повільно, ніякі швидкі
комутатори не зможуть підвищити швидкість
роботи мережі.</p>
<p>Мережні адаптери, що випускають сьогодні, можна
віднести до <b>четвертого покоління</b>. У
ці адаптери обов'язково входить ASIC, що виконує функції Мас-рівня, а також велика
кількість високорівневих
функцій. У набір таких функцій може входити підтримка агента вилученого моніторингу RMON, схема пріоритезації кадрів,
функції дистанційного керування комп'ютером і
т.п. У серверних варіантах адаптерів майже обов'язкова
наявність потужного процесора, що розвантажує
центральний процесор. Прикладом мережевого
адаптера четвертого покоління може служити
адаптер компанії 3Com Fast EtherLink
XL 10/100.</p>
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="table1">
  <tr>
    <td width="100%" align="left" colspan="3"><hr color="#2D4C54" size="4"></td>
  </tr>
  <tr>
    <td width="33%" align="left"><a href="006.htm">Попередня</a></td>
    <td width="33%" align="center"><a href="001.htm">Перша</a></td>
    <td width="34%" align="right"><a href="008.htm">Наступна</a></td>
  </tr>
</table>
</body>
</html>
