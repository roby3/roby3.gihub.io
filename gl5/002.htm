<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta http-equiv="Content-Language" content="uk">
<link rel=Edit-Time-Data href=../2.files/editdata.mso>
<title>5.1.2. Поняття internetworking</title>
</head>
<body lang=Uа>
<h3>5.1.2.
Поняття internetworking</h3>
<p>Основна ідея введення мережевого
рівня полягає в наступному. Мережа в загальному випадку розглядається як сукупність кількох мереж і
називається складеною мережею
або інтермережею (<i>internetwork </i>або <i>internet</i>). Мережі, що входять у складену
мережу, називаються підмережами (<i>subnet</i>), що складають мережу або просто мережами
(мал. 5.1).</p>
<table border="0" width="100%" id="table1">
	<tr>
		<td align="center">
<img width=500 height=550 src=images/im001.jpg alt="Мал.&nbsp;5.1. Архітектура складеної мережі"></td>
	</tr>
	<tr>
		<td align="center">Мал.&nbsp;5.1. Архітектура складеної
мережі</td>
	</tr>
</table>
<p>Підмережі з'єднуються між собою маршрутизаторами.
<b>Компонентами</b> складеної мережі можуть бути як <b>локальні</b>, так і <b>глобальні</b> мережі.
Внутрішня структура кожної мережі на малюнку
не показана, тому що вона не має значення при розгляді мережевого
протоколу. Всі вузли в межах однієї підмережі взаємодіють, використовуючи єдину для них технологію. Так, у складену мережу, яка показана на малюнку, входить кілька мереж різних технологій: локальні мережі Ethernet, Fast Ethernet, Token Ring, FDDI і
глобальні мережі frame relay, X.25, ISDN.
Кожна із цих технологій достатня для того, щоб організувати взаємодію всіх
вузлів у своїй підмережі,
але не здатна побудувати інформаційний зв'язок
між довільно обраними вузлами, що належать різним
підмережам, наприклад між вузлом <b>А</b> и вузлом <b>В</b> на
мал.&nbsp;5.1. Отже, для організації взаємодії між будь-якою довільною парою вузлів
цієї &quot;великої&quot; складеної мережі потрібні додаткові засоби.
Такі засоби й надає
мережевий рівень.</p>
<p>Мережевий рівень виступає як координатор, що
організує роботу всіх підмереж,
що лежать на шляху просування пакета по складеній мережі.
Для переміщення даних у межах підмереж мережевий рівень звертається до використовуваного в цих підмережах
технологій.</p>
<p>Хоча багато технологій локальних мереж (Ethernet, Token Ring, FDDI, Fast Ethernet й
ін.) використовують ту саму систему адресації
вузлів на основі <b>МАС-адрес</b>, існує чимало
технологій (X.25, ATM, frame relay), у яких застосовуються інші схеми
адресації. Адреси, привласнені вузлам відповідно до технологій підмереж, називають локальними. Щоб мережевий рівень міг виконати свою задачу, йому необхідна власна система адресації, що
не залежить від способів адресації вузлів в окремих
піжмережах, що дозволила б на мережевому рівні універсальним й однозначним
способами ідентифікувати будь-який вузол складеної
мережі.</p>
<p>Природним способом формування мережевої адреси є
унікальна нумерація всіх підмереж складової мережі й нумерація всіх вузлів у межах кожної підмережі.
Таким чином, <b>мережева адреса являє собою пару:
номер мережі (підмережі)
і номер вузла.</b></p>
<p>Як номер вузла може виступати або
локальна адреса цього вузла (така схема прийнята в стеці IPX/SPX), або деяке
число, ніяк не пов'язане з локальною технологією, що однозначно ідентифікує
вузол у межах даної підмережі.
У першому випадку мережева адреса стає залежною від локальних технологій, що обмежує його
застосування. Наприклад, мережеві адреси
IPX/SPX розраховані на роботу в складених мережах, що об'єднує
мережі, у яких використовуються
тільки МАС-адреси або адреси аналогічного
формату. Другий підхід більш універсальний,
він характерний для стека TCP/IP. І в тому й іншому випадку кожен вузол складеної
мережі має поряд зі
своєю локальною адресою ще одну - універсальну мережеву
адресу.</p>
<p>Дані, які надходять на мережевий рівень й
які необхідно передати через складену мережу, забезпечуються заголовком мережевого рівня. Дані разом із заголовком утворять
пакет. Заголовок пакета мережевого рівня має
уніфікований формат, що не залежить від форматів кадрів канального рівня тих мереж, які можуть входити в об'єднану мережу, і несе поряд з
іншою службовою інформацією дані про номер мережі, який призначається цей пакет. Мережевий рівень визначає
маршрут і переміщає пакет між підмережами.</p>
<p>При передачі пакета з однієї підмережі в
іншу пакет мережевого рівня, інкапсульований у прибулий канальний кадр першої підмережі,
звільняється від заголовків цього кадру й оточується заголовками кадру
канального рівня наступної підмережі. Інформацією, на основі якої робиться ця
заміна, є службові поля пакета мережевого рівня. У полі
адреси призначення нового кадру вказується локальна адреса наступного
маршрутизатора.</p>
<table border="0" cellpadding="3" cellspacing="1" width="100%" id="table2">
	<tr>
		<td><b><font color="#008000"><i>Примітка</i></font></b></td>
	</tr>
	<tr>
		<td bgcolor="#009999"><i>Якщо в підмережі
доставка даних здійснюється засобами
канального й фізичного рівнів (як, наприклад, у стандартних локальних мережах), то пакети мережевого
рівня впаковуються в кадри канального рівня. Якщо ж у який-небудь
підмережі для транспортування повідомлень використовується технологія, заснована на стеках з більшим числом
рівнів, то пакети мережевого рівня впаковуються
в блоки даних, що передаються, найвищого рівня
підмережі.</i></td>
	</tr>
</table>
<p>Якщо провести
аналогію між взаємодією різнорідних мереж і перепискою людей з різних країн, то мережева інформація - це загальноприйнятий індекс
країни, доданий до адреси листа, написаній на
одній із сотні мов земної кулі, наприклад на санскриті. І навіть якщо цей лист
повинен пройти через безліч
країн, поштові працівники яких не знають санскриту, зрозумілий їм індекс країни-адресата підкаже, через які
проміжні країни краще передати лист, щоб воно найкоротшим шляхом потрапило в
Індію. А вже там працівники місцевих поштових відділення зможуть прочитати точну адресу, що вказує місто,
вулицю, будинок й індивідуума, і доставити
лист адресату, тому що адреса написана мовою й
у формі, прийнятій в даній країні.</p>
<p>Основним полем заголовка мережевого рівня є
номер мережі-адресата. У розглянутих нами
раніше протоколах локальних мереж такого поля
в кадрах передбачено не було - передбачалося, що всі вузли належать одній мережі. Явна нумерація мереж
дозволяє протоколам мережевого рівня складати точну карту міжмережевих
зв'язків і вибирати раціональні маршрути при
будь-якій їхній топології, у тому числі альтернативні маршрути, якщо вони є, що
не вміють робити мости й комутатори.</p>
<p>Крім номера мережі заголовок мережевого
рівня повинен містити й іншу інформацію,
необхідну для успішного переходу пакета з мережі
одного типу в мережу іншого типу. До такої
інформації може належати, наприклад:</p>
<ul type=disc>
	<li>номер фрагмента пакета, необхідний для успішного здійснення операцій зборки-розбирання фрагментів при сполученні мереж з різними максимальними розмірами пакетів;</li>
	<li>час життя пакета, що вказує, як довго він подорожує по інтермережі, цей час може використовуватися для знищення 
	&quot;заблудлих&quot; пакетів;</li>
	<li>якість послуги - критерій вибору маршруту при міжмережеві передачах - наприклад, вузол-відправник може зажадати передати пакет з максимальною надійністю, можливо, на шкоду часу доставки.</li>
</ul>
<p>Коли дві
або більше мережі
організують спільну транспортну службу, то такий режим взаємодії звичайно
називають міжмережевою взаємодією
(internetworking).</p>
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="table1">
  <tr>
    <td width="100%" align="left" colspan="3"><hr color="#2D4C54" size="4"></td>
  </tr>
  <tr>
    <td width="33%" align="left"><a href="001.htm">Попередня</a></td>
    <td width="33%" align="center"><a href="001.htm">Перша</a></td>
    <td width="34%" align="right"><a href="003.htm">Наступна</a></td>
  </tr>
</table>
</body>
</html>
